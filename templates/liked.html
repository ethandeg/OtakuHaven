{% extends 'base.html' %}
{%block title%}{{g.user.username}} Liked Animes{%endblock%}
{% block content%}
<div class="container">
<h1>See What {{g.user.username}} Likes!</h1>
<div class="anime-container">
{% for like in g.user.liked %}
{% if like.mal_id in wished %}

        
    <div class="anime-block"
        data-anime='{"title":"{{like.title}}","image_url":"{{like.image_url}}","mal_id":{{like.mal_id}},"liked":true,"wished":true}'>
        <div class="anime-block__image">
            <img src="{{like.image_url}}" alt="{{like.title}}">
        </div>
        <div class="anime-block__title">
            <h3 class="anime-block__title-header">{{like.title}}</h3>
        </div>
        <div class = "anime-block__buttons">
            <button class="btn btn-primary" data-type = "like-anime">unlike</button>
            <button class='btn btn-secondary' data-type= "wish-anime">unwish</button>
        </div>
    </div>
    {% else %}
    <div class="anime-block"
        data-anime='{"title":"{{like.title}}","image_url":"{{like.image_url}}","mal_id":{{like.mal_id}},"liked":true,"wished":false}'>
        <div class="anime-block__image">
            <img src="{{like.image_url}}" alt="{{like.title}}">
        </div>
        <div class="anime-block__title">
            <h3 class="anime-block__title-header">{{like.title}}</h3>
        </div>
        <div class = "anime-block__buttons">
            <button class="btn btn-primary" data-type = "like-anime">unlike</button>
            <button class='btn btn-secondary' data-type= "wish-anime">wish</button>
        </div>
    </div>
{% endif %}
{% endfor %}
</div>
</div>
{% endblock %}
{% block script %}
<script>
    getBlocks()
</script>
{% endblock %}